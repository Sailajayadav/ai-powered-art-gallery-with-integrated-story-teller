<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Art Gallery - Room 2</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css">
    <style>
        body {
            margin: 0;
            font-family: 'Cinzel Decorative', serif;
        }
        .info-display {
            position: fixed;
            color: #e4c07f;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px 25px;
            border-radius: 8px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(228, 192, 127, 0.3);
            box-shadow: 0 0 20px rgba(228, 192, 127, 0.2);
            z-index: 1000;
            transition: all 0.3s ease;
        }
        #datetime-display {
            top: 20px;
            left: 20px;
            letter-spacing: 1px;
        }
        #user-display {
            top: 80px;
            left: 20px;
        }
        #popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.85);
            color: #ffffff;
            padding: 25px;
            border-radius: 15px;
            max-width: 400px;
            text-align: center;
            z-index: 1000;
            border: 1px solid rgba(228, 192, 127, 0.3);
        }
        #popup h2 {
            color: #e4c07f;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(228, 192, 127, 0.5);
        }
        .audio-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(228, 192, 127, 0.2);
            padding: 15px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 1000;
            border: 1px solid rgba(228, 192, 127, 0.3);
        }
        .audio-toggle i {
            color: #e4c07f;
            font-size: 24px;
        }
        .navigation-hint {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: #e4c07f;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            z-index: 1000;
        }
        .room-title {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #e4c07f;
            font-size: 1.5em;
            text-shadow: 0 0 10px rgba(228, 192, 127, 0.5);
            z-index: 1000;
        }
        .back-button {
            position: fixed;
            top: 20px;
            right: 20px;
            color: #e4c07f;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            z-index: 1000;
            border: 1px solid rgba(228, 192, 127, 0.3);
        }
    </style>
</head>
<body>
    <div id="datetime-display" class="info-display">UTC: 2025-02-13 18:07:37</div>
    <div id="user-display" class="info-display">User: Krizzna69</div>
    <div class="room-title">Modern Art Gallery - Room 2</div>
    <div class="back-button" onclick="window.location.href='index.html'">← Back to Room 1</div>
    <div class="navigation-hint">WASD to Move • Mouse to Look • Hover for Details</div>

    <a-scene>
        <a-assets>
            <audio id="ambient-sound" src="static/sounds/ambient.mp3" autoplay loop></audio>
        </a-assets>

        <a-entity sound="src: #ambient-sound; autoplay: true; loop: true; volume: 0.5"></a-entity>

        <a-sky color="#0a0a0a"></a-sky>

        <!-- Floor -->
        <a-plane position="0 0 -20" rotation="-90 0 0" width="20" height="50"
                 material="color: #1a1a1a; metalness: 0.7; roughness: 0.3"></a-plane>

        <!-- Golden Path -->
        <a-plane position="0 0.01 -20" rotation="-90 0 0" width="2" height="50" color="#e4c07f"
                 material="metalness: 0.8; roughness: 0.2; emissive: #e4c07f; emissiveIntensity: 0.2"></a-plane>

        <!-- Walls -->
        <a-plane position="-8 2 -20" rotation="0 90 0" width="50" height="4" color="#2c2c2c"
                 material="metalness: 0.2; roughness: 0.8"></a-plane>
        <a-plane position="8 2 -20" rotation="0 -90 0" width="50" height="4" color="#2c2c2c"
                 material="metalness: 0.2; roughness: 0.8"></a-plane>

        <!-- Wall Decorations -->
        <a-entity position="-7.9 2 -10">
            <a-box width="0.1" height="4" depth="0.1" color="#e4c07f" material="metalness: 0.8; roughness: 0.2"></a-box>
        </a-entity>
        <a-entity position="7.9 2 -10">
            <a-box width="0.1" height="4" depth="0.1" color="#e4c07f" material="metalness: 0.8; roughness: 0.2"></a-box>
        </a-entity>
        <a-entity position="-7.9 2 -20">
            <a-box width="0.1" height="4" depth="0.1" color="#e4c07f" material="metalness: 0.8; roughness: 0.2"></a-box>
        </a-entity>
        <a-entity position="7.9 2 -20">
            <a-box width="0.1" height="4" depth="0.1" color="#e4c07f" material="metalness: 0.8; roughness: 0.2"></a-box>
        </a-entity>
        <a-entity position="-7.9 2 -30">
            <a-box width="0.1" height="4" depth="0.1" color="#e4c07f" material="metalness: 0.8; roughness: 0.2"></a-box>
        </a-entity>
        <a-entity position="7.9 2 -30">
            <a-box width="0.1" height="4" depth="0.1" color="#e4c07f" material="metalness: 0.8; roughness: 0.2"></a-box>
        </a-entity>

        <!-- Artwork Positions -->
        <a-entity position="0 0 -10">
            <a-entity position="-6 2.5 0">
                <a-entity light="type: spot; color: #ffd700; intensity: 2; angle: 30; penumbra: 0.4; decay: 1.5"
                          position="0 1 2" rotation="-45 0 0"></a-entity>
                <a-image src="static/images/room2/image1.jpg" width="4" height="3"
                         material="shader: flat; transparent: true" class="interactive" id="room2-image-1"></a-image>
            </a-entity>

            <a-entity position="6 2.5 0">
                <a-entity light="type: spot; color: #ffd700; intensity: 2; angle: 30; penumbra: 0.4; decay: 1.5"
                          position="0 1 2" rotation="-45 0 0"></a-entity>
                <a-image src="static/images/room2/image2.jpg" width="4" height="3"
                         material="shader: flat; transparent: true" class="interactive" id="room2-image-2"></a-image>
            </a-entity>
        </a-entity>

        <!-- Add more artwork positions as needed -->

        <!-- Return Door to Room 1 -->
        <a-entity position="0 0 5">
            <a-box position="0 2 0" width="3" height="4" depth="0.2" color="#4a4a4a"
                   material="metalness: 0.7; roughness: 0.3">
                <a-plane position="0 0 0.1" width="2.5" height="3.5" color="#2a2a2a"
                         material="metalness: 0.5; roughness: 0.7"
                         class="clickable"
                         animation="property: material.emissive; from: #000; to: #444; dur: 1000; dir: alternate; loop: true"
                         onclick="window.location.href='index.html'">
                </a-plane>
                <a-entity position="0 1.8 0.3"
                          light="type: point; color: #ffd700; intensity: 0.5; distance: 3"></a-entity>
            </a-box>
        </a-entity>

        <a-entity position="0 1.6 0">
            <a-camera wasd-controls="acceleration: 80" look-controls>
                <a-cursor color="#e4c07f"></a-cursor>
            </a-camera>
        </a-entity>
    </a-scene>

    <div id="popup">
        <h2 id="popup-head"></h2>
        <p id="popup-text"></p>
    </div>

    <div class="audio-toggle">
        <i class="fas fa-volume-up"></i>
    </div>

    <script>
        // Add this at the start of your script section in room2.html
window.onload = function() {
    // Retrieve user and time from localStorage
    const savedUser = localStorage.getItem('galleryUser');
    const savedTime = localStorage.getItem('galleryTime');

    if (savedUser) {
        document.getElementById('user-display').textContent = `User: ${savedUser}`;
    }
    if (savedTime) {
        document.getElementById('datetime-display').textContent = `UTC: ${savedTime}`;
    }
};

// Modify the back button functionality
document.querySelector('.back-button').addEventListener('click', function(e) {
    e.preventDefault();
    window.location.href = 'index.html';
});

// Add click handler for the return door
document.querySelector('.clickable').addEventListener('click', function() {
    window.location.href = 'index.html';
});
        const synth = window.speechSynthesis;
        let isAudioEnabled = true;

        function updateDateTime() {
            const now = new Date();
            document.getElementById('datetime-display').textContent =
                'UTC: ' + now.toISOString().slice(0, 19).replace('T', ' ');
        }
        setInterval(updateDateTime, 1000);
        updateDateTime();

        const artworkInfo = {
            'room2-image-1': {
                title: 'Artwork Title 1',
                description: 'Description for artwork 1 in room 2.'
            },
            'room2-image-2': {
                title: 'Artwork Title 2',
                description: 'Description for artwork 2 in room 2.'
            }
            // Add more artwork information as needed
        };

        const audioToggle = document.querySelector('.audio-toggle');
        const popup = document.getElementById('popup');
        const popupHead = document.getElementById('popup-head');
        const popupText = document.getElementById('popup-text');

        audioToggle.addEventListener('click', () => {
            isAudioEnabled = !isAudioEnabled;
            audioToggle.innerHTML = isAudioEnabled ?
                '<i class="fas fa-volume-up"></i>' :
                '<i class="fas fa-volume-mute"></i>';
            if (!isAudioEnabled) synth.cancel();
        });

        document.querySelectorAll('.interactive').forEach(artwork => {
            artwork.addEventListener('mouseenter', () => {
                const info = artworkInfo[artwork.id];
                popup.style.display = 'block';
                popupHead.textContent = info.title;
                popupText.textContent = info.description;

                if (isAudioEnabled) {
                    synth.cancel();
                    const utterance = new SpeechSynthesisUtterance(`${info.title}. ${info.description}`);
                    utterance.rate = 0.9;
                    utterance.pitch = 1;
                    synth.speak(utterance);
                }
            });

            artwork.addEventListener('mouseleave', () => {
                popup.style.display = 'none';
                synth.cancel();
            });
        });
    </script>
</body>
</html>